generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "postgresql"
  url      = env("DATABASE_URL")
}

model admins {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now()) @db.Timestamp(6)
  email      String   @db.VarChar(255)
}

model owners {
  id         Int      @id @default(autoincrement())
  created_at DateTime @default(now()) @db.Timestamp(6)
  email      String   @unique(map: "owners_email") @db.VarChar(255)
  tags       tags[]
}

model tags {
  id         BigInt   @id @default(autoincrement())
  created_at DateTime @default(now()) @db.Timestamp(6)
  registered Boolean  @default(false)
  owner_id   Int?     
  TAG_TOKEN  String   @default(dbgenerated("gen_random_uuid()")) @db.Uuid
  setup_key  String   @default(dbgenerated("concat(concat(concat(concat(LEFT(md5(random()::text), 4), '-'), LEFT(md5(random()::text), 3)), '-'), LEFT(md5(random()::text), 4))")) @db.VarChar(13)
  owners     owners?   @relation(fields: [owner_id], references: [id], onDelete: Cascade, map: "owner_fk")
}